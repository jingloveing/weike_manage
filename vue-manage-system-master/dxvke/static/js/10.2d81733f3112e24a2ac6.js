webpackJsonp([10],{1e3:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={components:{},data:function(){return{indexs:0,activeClass:"selected",dialogVisible1:!1,dialogVisible2:!1,input:"",name:"",bannerList:[],all_type:[],index_cate:[],index:"",old_id:"",new_id:"",child_cate:[{cate_name:"",child:[{cate_name:""}]}]}},methods:{getBannerList:function(){var t=this;this.$ajax.get("/api/Index/indexBanner").then(function(a){"200"==a.data.code&&(t.bannerList=a.data.data.banner_list)},function(t){console.log(t)})},getCateType:function(){var t=this;this.$ajax.get("/api/Index/setCateType").then(function(a){"200"==a.data.code&&(t.index_cate=a.data.data.index_cate)},function(t){console.log(t)})},saveBanner:function(){var t=this;this.$ajax.post("/api/Index/indexBanner",this.bannerList).then(function(a){"200"==a.data.code?t.$message({message:a.data.data.message,type:"success"}):t.$message({message:a.data.error,type:"error"})},function(t){console.log(t)})},uploadImg:function(t,a){var e=this,i=new FormData;i.append("images",t.target.files[0]);var n={headers:{"Content-Type":"multipart/form-data"}};console.log(a),this.$ajax.post("api/Index/upload",i,n).then(function(t){"200"==t.data.code&&(e.bannerList[a].banner_image=t.data.data.image_url,console.log(e.bannerList))},function(t){})},handleClose1:function(t){var a=this;this.$confirm("确认关闭？").then(function(e){a.old_id="",a.new_id="",t()}).catch(function(t){})},isChecked:function(t){for(var a=0;a<this.all_type.length;a++)this.all_type[a].checked=!1;this.all_type[t].checked=!this.all_type[t].checked,this.new_id=this.all_type[t].id},sure:function(){var t=this;this.$ajax.post("/api/Index/setCateType",{old_id:this.old_id,new_id:this.new_id}).then(function(a){"200"==a.data.code?(t.$message({message:a.data.data.message,type:"success"}),t.old_id="",t.new_id="",t.getCateType(),t.dialogVisible1=!1):(t.$message({message:a.data.error,type:"error"}),t.old_id="",t.new_id="",t.dialogVisible1=!1)},function(t){console.log(t)})},add:function(){this.child_cate[this.indexs].child.push({cate_name:null})},add1:function(){this.bannerList.push({banner_image:"",banner_url:""})},del:function(){this.child_cate[this.indexs].child.pop()},del1:function(t){this.bannerList.splice(t,1)},selected:function(t){var a=this;this.old_id=t,this.dialogVisible1=!0,this.$ajax.get("/api/Index/allCateType").then(function(t){"200"==t.data.code&&(a.all_type=t.data.data.all_type)},function(t){console.log(t)})}},mounted:function(){},created:function(){this.getBannerList(),this.getCateType()}}},1021:function(t,a,e){a=t.exports=e(86)(void 0),a.push([t.i,".el-carousel__button{display:block;width:5px;height:5px;background-color:#fff;border-radius:50%}",""])},1022:function(t,a,e){a=t.exports=e(86)(void 0),a.push([t.i,'.ms-doc[data-v-2f5235da]{width:1300px;padding:0 40px;color:#54667a}.left[data-v-2f5235da]{width:604px;float:left;margin-right:20px}.left_1[data-v-2f5235da],.left_2[data-v-2f5235da]{background-color:#fff;padding:0 20px}.left_2[data-v-2f5235da]{margin-top:20px}.m_title[data-v-2f5235da]{font-size:20px;color:#54667a;line-height:60px;border-bottom:1px solid #e9f1f3}.m_title small[data-v-2f5235da]{font-size:12px;color:#a6afbb;margin-left:10px}.left_main[data-v-2f5235da]{padding:20px;border:1px solid #e9f1f3;margin:20px 0}.title small[data-v-2f5235da]{color:#a6afbb;font-size:14px;margin-left:10px}.right[data-v-2f5235da]{float:left;background-color:#fff;width:510px;padding:0 20px}.upload_img[data-v-2f5235da]{width:375px;height:130px;background-image:url("/static/img/upload_img_bd.png");background-size:100% 100%;background-repeat:no-repeat;display:inline-block;margin:25px 20px 25px 5px}.upload_btn[data-v-2f5235da]{font-size:14px;background-color:#0f8edd;border-color:#0f8edd;position:absolute;bottom:30px;display:inline-block;padding:8px 15px;color:#fff;border-radius:5px}.phone[data-v-2f5235da]{width:430px;height:880px;background-image:url("/static/img/index_phone.png");background-size:100% 100%;background-repeat:no-repeat;margin:30px auto;position:relative}.phone_main[data-v-2f5235da]{position:absolute;top:171px;left:28px;width:375px;height:305px;font-size:0}.nav-small[data-v-2f5235da]{overflow:hidden;padding:22px 1px 1px 2px;background-color:#fff}.nav-small li[data-v-2f5235da]{margin-bottom:20px;width:20%;float:left;list-style:none;text-align:center}.nav-small li img[data-v-2f5235da]{width:40px;height:40px;border-radius:50%;margin:0 auto}.nav-small li span[data-v-2f5235da]{font-size:10px;color:#333;display:block}.imgList[data-v-2f5235da]{font-size:0}.tab[data-v-2f5235da]{width:18%;height:132px;margin:5px 1%;border:1px solid #e9f1f3;text-align:center;display:inline-block;box-sizing:border-box;position:relative}.tab img[data-v-2f5235da]{width:64px;height:64px;border-radius:50%;margin:20px auto}.img_name[data-v-2f5235da]{font-size:16px;color:#54667a;border-top:1px solid #e9f1f3}.check[data-v-2f5235da]{position:absolute;right:10px;top:10px;right:8px;top:-13px}.check img[data-v-2f5235da]{width:20px;height:20px}.active[data-v-2f5235da]{background-color:#000;opacity:.3}.model_left[data-v-2f5235da]{width:30%;min-height:400px;border:1px solid #e9f1f3;display:inline-block}.model_right[data-v-2f5235da]{float:right;width:60%;min-height:362px;border:1px solid #e9f1f3;padding:20px;font-size:0;position:relative}.model_left ul li[data-v-2f5235da]{list-style:none;font-size:14px;color:#54667a;padding:10px 20px}.selected[data-v-2f5235da]{background-color:#f2f7f8}.model_right p[data-v-2f5235da]{font-size:14px;color:#54667a}.model_input[data-v-2f5235da]{width:100px;padding:0 10px;line-height:25px;border:1px solid #e9f1f3;outline:none;margin:20px 15px;box-sizing:border-box;color:#54667a}#model_list[data-v-2f5235da]{display:inline-block}',""])},1057:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",{staticStyle:{"font-size":"24px","margin-left":"20px"}},[t._v("首页管理")])],1)],1),t._v(" "),e("div",{staticClass:"ms-doc"},[e("div",{staticClass:"left"},[e("div",{staticClass:"left_1"},[t._m(0,!1,!1),t._v(" "),e("div",{staticClass:"left_main"},[t._l(t.bannerList,function(a,i){return e("div",{staticStyle:{"margin-bottom":"20px"}},[e("div",{staticStyle:{position:"relative"}},[e("div",{staticClass:"upload_img"},[e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a.banner_image,alt:""}})]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{id:"banner"+i,type:"file",multiple:"",accept:"image/*"},on:{change:function(a){t.uploadImg(a,i)}}}),t._v(" "),e("label",{staticClass:"upload_btn",attrs:{for:"banner"+i}},[t._v("上传")])]),t._v(" "),e("span",{staticStyle:{"font-size":"14px"}},[t._v("跳转链接：")]),t._v(" "),e("el-input",{staticStyle:{width:"300px",margin:"0 20px"},attrs:{placeholder:"请输入链接"},model:{value:a.banner_url,callback:function(e){t.$set(a,"banner_url",e)},expression:"i.banner_url"}}),t._v(" "),e("el-button",{attrs:{type:"danger"},on:{click:function(a){t.del1(i)}}},[t._v("删除组")])],1)}),t._v(" "),e("el-button",{staticStyle:{"background-color":"#0f8edd","border-color":"#0f8edd","margin-left":"50px"},attrs:{type:"primary",round:""},on:{click:function(a){t.add1()}}},[t._v("增加组\n                      ")])],2),t._v(" "),e("div",{staticStyle:{"text-align":"center",padding:"20px 0"}},[e("el-button",{staticStyle:{"background-color":"#0f8edd","border-color":"#0f8edd","margin-left":"50px"},attrs:{type:"primary",round:""},on:{click:function(a){t.saveBanner()}}},[t._v("保存\n                      ")])],1)]),t._v(" "),e("div",{staticClass:"left_2"},[t._m(1,!1,!1),t._v(" "),e("div",{staticClass:"left_main",staticStyle:{border:"none"}},[e("div",{staticStyle:{width:"100%",height:"318px"}},[e("ul",{staticClass:"nav-small"},t._l(t.index_cate,function(a,i){return e("li",{staticStyle:{"margin-bottom":"40px"}},[e("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:a.image_url},on:{click:function(e){t.selected(a.id)}}}),t._v(" "),e("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(a.cate_name))])])}))])])])]),t._v(" "),e("div",{staticClass:"right"},[e("p",{staticClass:"m_title"},[t._v("效果预览")]),t._v(" "),e("div",{staticClass:"right_main"},[e("div",{staticClass:"phone"},[e("div",{staticClass:"phone_main"},[e("div",{staticClass:"part1"},[e("div",{staticClass:"block"},[e("el-carousel",{attrs:{height:"130px"}},t._l(t.bannerList,function(t,a){return e("el-carousel-item",{key:a},[e("img",{attrs:{src:t.banner_image,alt:"",width:"100%",height:"100%"}})])})),t._v(" "),e("div",{staticStyle:{width:"100%",height:"175px"}},[e("ul",{staticClass:"nav-small"},t._l(t.index_cate,function(a,i){return e("li",[e("img",{attrs:{src:a.image_url}}),t._v(" "),e("span",[t._v(t._s(a.cate_name))])])}))])],1)])])])])])]),t._v(" "),e("el-dialog",{staticStyle:{"min-width":"1300px"},attrs:{title:"选择图标",visible:t.dialogVisible1,"before-close":t.handleClose1},on:{"update:visible":function(a){t.dialogVisible1=a}}},[e("div",{staticClass:"imgList"},t._l(t.all_type,function(a,i){return e("div",{staticClass:"tab"},[e("div",{directives:[{name:"show",rawName:"v-show",value:a.checked,expression:"list.checked"}],staticClass:"check"},[e("img",{attrs:{src:"/static/img/checked_img.png",alt:""}})]),t._v(" "),e("div",{class:a.checked?"active":"",on:{click:function(a){t.isChecked(i)}}},[e("img",{attrs:{src:a.image_url,alt:""}})]),t._v(" "),e("p",{staticClass:"img_name"},[t._v(t._s(a.cate_name))])])})),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{staticStyle:{"background-color":"#0f8edd","border-color":"#0f8edd"},attrs:{type:"primary"},on:{click:function(a){t.sure()}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"m_title"},[t._v("首页轮播海报图\n                      "),e("small",[t._v("尺寸建议：750*260像素;类型要求：jpg.png,3M内大小")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"m_title"},[t._v("首页分类图标\n                      "),e("small",[t._v("点击图片更改分类图标")])])}]}},1086:function(t,a,e){var i=e(1021);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(196)("6b80527e",i,!0)},1087:function(t,a,e){var i=e(1022);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(196)("36565c5d",i,!0)},518:function(t,a,e){e(1087),e(1086);var i=e(197)(e(1e3),e(1057),"data-v-2f5235da",null);t.exports=i.exports}});